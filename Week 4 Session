Session 2 

1.Require statement 
2.Middleware 
3.routes 
4.Application 

Restaurant used as an example 

Middleware 

This is part of express 
app.use(('/table'),function(req,res,next)){ 
User booking = req.booking 
User age = req.age 
if(booking && age){ 
  Next() 
  } 
}) 

Next in function will procced to next function 

Function refactored 
App.use('/table',(req,res,next)=>{ 
Var age = req.age 
Var booking = req.booking 
If(age && booking){ 
  Next() 
  } 
}) 
 
Routes 

Checks if there are any tables available  
App.get('/table/:amount', function(req,res,next) { 
Var dinner = req.params.amount 
Res.send('looking for table' + dinner + '!') 
}) 

Req = { 
P : { 
Amount : 4 
 } 
} 

Const express = require('express'); 
Const tableRoute = express.Router() 
TableRoute.Use (function(req,res,next){ 
Var booking = req.booking 
Var age = req.age 
If(booking && age){ 
Next() 
  } 
}) 

TableRoute.use('/bar',function(req,res,next){ 
Var age = req.age 
If(age >= 18){ 
Next() 
}) 

 

If want to show a message 
App.listen(3000){ 
  Console.log('Running port 3000') 
} 

Require statements 

Middleware 

Routes 